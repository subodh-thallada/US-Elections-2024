'use strict';

var GetIntrinsic = require('get-intrinsic');
var gPO = require('reflect.getprototypeof');
var hasSymbols = require('has-symbols');
<<<<<<< HEAD
var setFunctionName = require('set-function-name');
var defineDataProperty = require('define-data-property');
var $Object = require('es-object-atoms');
=======
var define = require('define-properties');
var setFunctionName = require('set-function-name');
>>>>>>> 680064e5fdc85884a37bd24dfb3394d654d8dfba

var arrayIterProto = GetIntrinsic('%ArrayIteratorPrototype%', true);

var iterProto = arrayIterProto && gPO(arrayIterProto);

<<<<<<< HEAD
var result = (iterProto !== $Object.prototype && iterProto) || {};

if (hasSymbols()) {
	if (!(Symbol.iterator in result)) {
		// needed when result === iterProto, or, node 0.11.15 - 3
		var iter = setFunctionName(function SymbolIterator() {
			return this;
		}, '[Symbol.iterator]', true);

		defineDataProperty(result, Symbol.iterator, iter, true);
	}
=======
var result = (iterProto !== Object.prototype && iterProto) || {};

if (hasSymbols()) {
	var defined = {};
	var predicates = {};
	var trueThunk = function () {
		return true;
	};

	if (!(Symbol.iterator in result)) {
		// needed when result === iterProto, or, node 0.11.15 - 3
		defined[Symbol.iterator] = setFunctionName(function SymbolIterator() {
			return this;
		}, '[Symbol.iterator]', true);

		predicates[Symbol.iterator] = trueThunk;
	}

	define(result, defined, predicates);
>>>>>>> 680064e5fdc85884a37bd24dfb3394d654d8dfba
}

module.exports = result;
